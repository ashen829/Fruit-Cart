<div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-12 mb-4" *ngFor="let product of products">
            <div class="card h-100 shadow-sm">
              <img class="card-img-top" [src]="'data:image/jpeg;base64,' + product.image" [alt]="product.name"
                   style="height: 200px; object-fit: cover;">
              <div class="card-body">
                <h5 class="card-title">{{ product.name }}</h5>
                <p class="card-text">{{ product.description }}</p>
                <p><strong>Quantity:</strong> {{ product.quantity }}</p>
                <p><strong>Carton Price:</strong> {{ product.cartonPrice | currency : 'Rs. ' : 'symbol' : '1.2-2' }}</p>
                <p><strong>Units per Carton:</strong> {{ product.unitsPerCarton }}</p>
                <p><strong>Markup:</strong> {{ product.unitPriceMarkup }}%</p>
                <p><strong>Discount:</strong> {{ product.cartonDiscountPercentage }}%</p>
                <p><strong>Unit Price:</strong> {{ unitPrices[product.name] | currency : 'Rs. ' : 'symbol' : '1.2-2' }}</p>
              </div>
              <div class="card-footer">
                <div class="d-flex justify-content-between">
                  <button class="btn btn-success" (click)="addToCheckout(product)">Add</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="col-lg-4">
        <h3>Checkout</h3>
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let item of checkoutList">
            <div class="d-flex justify-content-between">
              <span>{{ item.product.name }} ({{ item.quantity }} units)</span>
              <span>{{ item.price | currency : 'Rs. ' : 'symbol' : '1.2-2' }}</span>
            </div>
            <div class="d-flex justify-content-between">
              <button class="btn btn-sm btn-primary" (click)="increaseQuantity(item)">+</button>
              <button class="btn btn-sm btn-secondary" (click)="decreaseQuantity(item)">-</button>
              <button class="btn btn-sm btn-danger" (click)="removeFromCheckout(item.product)">Remove</button>
            </div>
          </li>
        </ul>
        <div class="mt-4">
          <h4>Total: {{ getTotalPrice() | currency : 'Rs. ' : 'symbol' : '1.2-2' }}</h4>
        </div>
      </div>
    </div>
  </div>
  